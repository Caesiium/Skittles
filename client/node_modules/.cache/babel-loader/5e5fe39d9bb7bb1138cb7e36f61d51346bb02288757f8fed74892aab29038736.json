{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lydia\\\\University\\\\Year 2\\\\Software Engineering\\\\Skittles\\\\client\\\\src\\\\ShopItems.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ShopItems({\n  selectedItems,\n  setSelctedItems\n}) {\n  _s();\n  const [grocery, setGrocery] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [groceryError, setGroceryError] = useState('');\n  //const [selectedItems, setSelctedItems] = useState([]);\n  const navigate = useNavigate();\n  const location = useLocation();\n  useEffect(() => {\n    const getGroceries = async () => {\n      try {\n        const response = await axios.get('http://localhost:8080/api/ShopItems');\n        console.log('Fetched: ', response.data);\n        setGrocery(response.data);\n        setLoading(false);\n      } catch (err) {\n        setGroceryError(err);\n        setLoading(false);\n      }\n    };\n    getGroceries();\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 16\n    }, this);\n  }\n  if (groceryError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", groceryError.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 16\n    }, this);\n  }\n  const handleInputChanged = (grocery_id, quantity) => {\n    setSelectedItems(prevSelectedItems => {\n      const updatedItems = [...prevSelectedItems];\n      const index = updatedItems.findIndex(grocery => grocery.grocery_id === grocery_id);\n      if (index === -1) {\n        return [...prevSelectedItems, {\n          grocery_id,\n          quantity: Number(quantity)\n        }];\n        //updatedItems.push({ grocery_id, quantity: Number(quantity) });\n      } else {\n        const updatedItems = [...prevSelectedItems];\n        updatedItems[index].quantity = Number(quantity);\n        //updatedItems[index] = { grocery_id, quantity: Number(quantity) };\n      }\n      return updatedItems;\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    navigate('/EditOrder', {\n      state: {\n        selectedItems\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Select Items\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [grocery.map(groceries => {\n        var _selectedItems$find;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            min: \"0\",\n            value: ((_selectedItems$find = selectedItems.find(grocery => grocery.grocery_id === groceries.grocery_id)) === null || _selectedItems$find === void 0 ? void 0 : _selectedItems$find.quantity) || 0,\n            onChange: e => handleInputChanged(groceries.grocery_id, e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: groceries.grocery_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)]\n        }, groceries.grocery_id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Select Items\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n}\n_s(ShopItems, \"pwdrg3sxv26ugsIfbXTt1W00UbM=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = ShopItems;\nexport default ShopItems;\nvar _c;\n$RefreshReg$(_c, \"ShopItems\");","map":{"version":3,"names":["React","useState","useEffect","axios","Link","useNavigate","useLocation","jsxDEV","_jsxDEV","ShopItems","selectedItems","setSelctedItems","_s","grocery","setGrocery","loading","setLoading","groceryError","setGroceryError","navigate","location","getGroceries","response","get","console","log","data","err","children","fileName","_jsxFileName","lineNumber","columnNumber","message","handleInputChanged","grocery_id","quantity","setSelectedItems","prevSelectedItems","updatedItems","index","findIndex","Number","handleSubmit","e","preventDefault","state","onSubmit","map","groceries","_selectedItems$find","type","min","value","find","onChange","target","grocery_name","_c","$RefreshReg$"],"sources":["C:/Users/lydia/University/Year 2/Software Engineering/Skittles/client/src/ShopItems.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nfunction ShopItems({ selectedItems, setSelctedItems }){\r\n\r\n    const [grocery, setGrocery] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [groceryError, setGroceryError] = useState('');\r\n    //const [selectedItems, setSelctedItems] = useState([]);\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n\r\n    useEffect(() => {\r\n        const getGroceries = async () => {\r\n            try{\r\n                const response = await axios.get('http://localhost:8080/api/ShopItems');\r\n                console.log('Fetched: ', response.data);\r\n                setGrocery(response.data);\r\n                setLoading(false);\r\n            } catch (err) {\r\n                setGroceryError(err);\r\n                setLoading(false);\r\n            }\r\n        };\r\n        getGroceries();\r\n    }, []);\r\n\r\n    if(loading){\r\n        return <div>Loading...</div>;\r\n    }\r\n    if(groceryError){\r\n        return <div>Error: {groceryError.message}</div>;\r\n    }\r\n\r\n    const handleInputChanged = (grocery_id, quantity) => {\r\n        setSelectedItems((prevSelectedItems) => {\r\n           const updatedItems = [...prevSelectedItems];\r\n           const index = updatedItems.findIndex((grocery) => grocery.grocery_id === grocery_id);\r\n           if (index === -1){\r\n                return [...prevSelectedItems, { grocery_id, quantity: Number(quantity) }];\r\n                //updatedItems.push({ grocery_id, quantity: Number(quantity) });\r\n           } else {\r\n                const updatedItems = [...prevSelectedItems];\r\n                updatedItems[index].quantity = Number(quantity)\r\n                //updatedItems[index] = { grocery_id, quantity: Number(quantity) };\r\n           }\r\n           return updatedItems;\r\n        });\r\n    };\r\n\r\n    const handleSubmit = async(e) => {\r\n        e.preventDefault();\r\n        navigate('/EditOrder', { state: { selectedItems } });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Select Items</h1>\r\n            <form onSubmit={handleSubmit}>\r\n                {grocery.map((groceries) => (\r\n                    <div key={groceries.grocery_id}>\r\n                        <input\r\n                            type=\"number\"\r\n                            min=\"0\"\r\n                            value={selectedItems.find(grocery => grocery.grocery_id === groceries.grocery_id)?.quantity || 0}\r\n                            onChange={(e) => handleInputChanged(groceries.grocery_id, e.target.value)}\r\n                        />\r\n                        <label>{groceries.grocery_name}</label>\r\n                    </div>\r\n                ))}\r\n                <button type=\"submit\">Select Items</button>\r\n            </form>\r\n        </div>\r\n    );\r\n\r\n\r\n}\r\n\r\nexport default ShopItems;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}