{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lydia\\\\University\\\\Year 2\\\\Software Engineering\\\\Skittles\\\\client\\\\src\\\\ShopItems.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ShopItems() {\n  _s();\n  const [grocery, setGrocery] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [groceryError, setGroceryError] = useState('');\n  const [selectedItems, setselctedItems] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const getGroceries = async () => {\n      try {\n        const response = await axios.get('http://localhost:8080/api/ShopItems');\n        console.log('Fetched: ', response.data);\n        setGrocery(response.data);\n        setLoading(false);\n      } catch (err) {\n        setGroceryError(err);\n        setLoading(false);\n      }\n    };\n    getGroceries();\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 16\n    }, this);\n  }\n  if (groceryError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", groceryError.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 16\n    }, this);\n  }\n  const handleInputChanged = (grocery_id, quantity) => {\n    setselctedItems(prevselectedItems => {\n      const updatedItems = [...prevselectedItems];\n      const index = updatedItems.findIndex(grocery => grocery.grocery_id === grocery_id);\n      if (index === -1) {\n        updatedItems.push({\n          grocery_id,\n          quantity\n        });\n      } else {\n        updatedItems[index] = {\n          grocery_id,\n          quantity\n        };\n      }\n      return updatedItems;\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    console.log('selected bf send', selectedItems);\n    navigate('/EditOrder', {\n      state: {\n        selectedItems\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Select Items\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [grocery.map(groceries => {\n        var _selectedItems$find;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            min: \"0\",\n            value: ((_selectedItems$find = selectedItems.find(grocery => grocery.grocery_id === groceries.grocery_id)) === null || _selectedItems$find === void 0 ? void 0 : _selectedItems$find.quantity) || 0,\n            onChange: e => handleInputChanged(groceries.grocery_id, e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: groceries.grocery_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)]\n        }, groceries.grocery_id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Select Items\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n}\n_s(ShopItems, \"sHXnH/m/1lnSeRRSjKDtUnv1TUc=\", false, function () {\n  return [useNavigate];\n});\n_c = ShopItems;\nexport default ShopItems;\nvar _c;\n$RefreshReg$(_c, \"ShopItems\");","map":{"version":3,"names":["React","useState","useEffect","axios","Link","useNavigate","jsxDEV","_jsxDEV","ShopItems","_s","grocery","setGrocery","loading","setLoading","groceryError","setGroceryError","selectedItems","setselctedItems","navigate","getGroceries","response","get","console","log","data","err","children","fileName","_jsxFileName","lineNumber","columnNumber","message","handleInputChanged","grocery_id","quantity","prevselectedItems","updatedItems","index","findIndex","push","handleSubmit","e","preventDefault","state","onSubmit","map","groceries","_selectedItems$find","type","min","value","find","onChange","target","grocery_name","_c","$RefreshReg$"],"sources":["C:/Users/lydia/University/Year 2/Software Engineering/Skittles/client/src/ShopItems.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nfunction ShopItems(){\r\n    const [grocery, setGrocery] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [groceryError, setGroceryError] = useState('');\r\n    const [selectedItems, setselctedItems] = useState([]);\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        const getGroceries = async () => {\r\n            try{\r\n                const response = await axios.get('http://localhost:8080/api/ShopItems');\r\n                console.log('Fetched: ', response.data);\r\n                setGrocery(response.data);\r\n                setLoading(false);\r\n            } catch (err) {\r\n                setGroceryError(err);\r\n                setLoading(false);\r\n            }\r\n        };\r\n        getGroceries();\r\n    }, []);\r\n\r\n    if(loading){\r\n        return <div>Loading...</div>;\r\n    }\r\n    if(groceryError){\r\n        return <div>Error: {groceryError.message}</div>;\r\n    }\r\n\r\n    const handleInputChanged = (grocery_id, quantity) => {\r\n        setselctedItems((prevselectedItems) => {\r\n           const updatedItems = [...prevselectedItems];\r\n           const index = updatedItems.findIndex((grocery) => grocery.grocery_id === grocery_id);\r\n           if (index === -1){\r\n                updatedItems.push({ grocery_id, quantity });\r\n           } else {\r\n            updatedItems[index] = { grocery_id, quantity };\r\n           }\r\n           return updatedItems;\r\n        });\r\n    };\r\n\r\n    const handleSubmit = async(e) => {\r\n        e.preventDefault();\r\n        console.log('selected bf send', selectedItems);\r\n        navigate('/EditOrder', { state: { selectedItems } });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Select Items</h1>\r\n            <form onSubmit={handleSubmit}>\r\n                {grocery.map((groceries) => (\r\n                    <div key={groceries.grocery_id}>\r\n                        <input\r\n                            type=\"number\"\r\n                            min=\"0\"\r\n                            value={selectedItems.find(grocery => grocery.grocery_id === groceries.grocery_id)?.quantity || 0}\r\n                            onChange={(e) => handleInputChanged(groceries.grocery_id, e.target.value)}\r\n                        />\r\n                        <label>{groceries.grocery_name}</label>\r\n                    </div>\r\n                ))}\r\n                <button type=\"submit\">Select Items</button>\r\n            </form>\r\n        </div>\r\n    );\r\n\r\n\r\n}\r\n\r\nexport default ShopItems;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}